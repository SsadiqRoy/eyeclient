var e=require("axios");function t(e){return e&&e.__esModule?e.default:e}function a(e,t,a,r){Object.defineProperty(e,t,{get:a,set:r,enumerable:!0,configurable:!0})}var r=globalThis,i={},n={},s=r.parcelRequiree8ef;null==s&&((s=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return i[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},r.parcelRequiree8ef=s);var l=s.register;l("8oD3Q",function(r,i){a(r.exports,"getSimple",()=>l),a(r.exports,"getFull",()=>o),a(r.exports,"patchFull",()=>c);var n=s("4kZWU");async function l(a,r="api"){try{return a="api"===r?`${n.api_url}${a}`:r,(await t(e)({method:"GET",withCredentials:!0,url:a})).data.data}catch(e){throw e.response?e.response.data:e}}async function o(a,r="api"){try{return a="api"===r?`${n.api_url}${a}`:r,(await t(e)({method:"GET",withCredentials:!0,url:a})).data}catch(e){throw e.response?e.response.data:e}}async function c(a,r,i="api"){try{return a="api"===i?`${n.api_url}${a}`:i,(await t(e)({method:"PATCH",url:a,data:r,withCredentials:!0})).data}catch(e){throw e.response?e.response.data:e}}}),l("4kZWU",function(e,t){a(e.exports,"api_url",()=>r),a(e.exports,"client_url",()=>i);let r="https://www.api.eyeclient.com/v1",i="https://www.eyeclient.com"}),l("hXBCr",function(e,t){a(e.exports,"userCard",()=>i),a(e.exports,"dmediaCard",()=>n),a(e.exports,"dlinkCard",()=>l),a(e.exports,"mediaCard",()=>o);var r=s("gHFA8");function i(e){let t=e.active?"pause":"play";return`
  <div class="user-card" data-user-id="${e.id}">
    <div class="user-card__details">
      <strong>${e.name} &nbsp; (${e.accessLevel})</strong>
      <span>${e.email}</span>
    </div>
    <div class="user-card__buttons">
      <i class="fas fa-${t} i-secondary change-user-status" data-user-status="${e.active}"></i>
      <i class="fas fa-trash-alt i-primary delete-user"></i>
    </div>
  </div>`}function n(e,t=""){let a=`
    <a href="/executive/${e.type}?id=${e.id}"><i class="fas fa-edit i-secondary"></i></a>
    <i class="fas fa-trash-alt i-primary delete-media"></i>
  `;return"positive"===t&&(a='<button class="btn btn-secondary-dark add-to-collection">add to collection</button>'),"negative"===t&&(a='<button class="btn btn-primary remove-from-collection">remove</button>'),`
    <div class="dmedia-card" data-media-id="${e.id}" data-action='${"positive"===t?"add":"negative"===t?"remove":""}'>
      <div class="dmedia-card__image"><img src="${e.poster}" alt="${e.title}" /></div>
      <div class="dmedia-card__details">
        <h4 class="dmedia-card__details-title">${e.title}</h4>
        <ul>
          <li>${e.type}</li>
          <li>${e.imdbRating} <i class="fas fa-star i-primary"></i></li>
          <li>${(0,r.getTime)(e.released).date}</li>
        </ul>

        <div class="dmedia-card__details-button">
          <span>${a}</span>
        </div>
      </div>
    </div>
  `}function l(e,t="",a="",r=!1){let i='<i class="fas fa-edit i-secondary edit-link"></i>';return r&&(i=`<a href='${r}'><i class="fas fa-edit i-secondary"></i></a>`),`
  <div class="link-item" data-link-id='${e.id}' data-link='${JSON.stringify(e)}'>
    <span>${t}${e.name||e.episode||e.season}${a}</span>
    <span>${i}<i class="fas fa-trash-alt i-primary delete-link"></i></span>
  </div>
  `}function o(e){let t="collection"===e.type?`/media?collection=${e.id}`:`/detail/${e.id}`;return`
  <div class="media-card" data-media-id='${e.id}'>
    <div class="media-card__image">
      <img src="${e.poster}" />
    </div>
    <div class="media-card__details">
      <a href="${t}" class="media-card__details__title" title='${e.year}'>${e.title}</a>
      <span class="media-card__details__rate-type">${e.imdbRating||"N/A"} <i class="fas fa-star"></i> &nbsp; <span>${e.type}</span></span>
    </div>
  </div>
  `}}),l("gHFA8",function(e,t){function r(e){let t=Error(e);return t.isOperational=!0,t}function i(e){let t={};return e.slice(1).split("&").forEach(e=>{let[a,r]=e.split("=");if(a.includes("[")){let[e,i]=a.split("["),n=i.slice(0,i.length-1),s={};s[n]=r,t[e]?t[e][n]=r:t[e]=s}else t[a]=r}),t}function n(e){let t=Object.entries(e);return t=(t=t.map(([e,t])=>(function(e,t){if("object"!=typeof t)return`${e}=${t}`;let a=Object.entries(t);return(a=a.map(([t,a])=>`${e}[${t}]=${a}`)).join("&")})(e,t))).join("&"),t=`?${t}`}function s(e,t){if(e&&t)return new Date(`${e} ${t}`).toISOString()}function l(e){let t=new Date(e),a=`${t.getFullYear()}`.padStart(2,"0"),r=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0"),n=`${t.getHours()}`.padStart(2,"0"),s=`${t.getMinutes()}`.padStart(2,"0");return{date:`${a}-${r}-${i}`,time:`${n}:${s}`}}function o(e,t=60){if(e.length>t){let a=e.slice(0,t-3);return" "===a.charAt(a.length-1)?`${a.slice(0,a.length-1)}...`:`${a}...`}return e}function c(e){let t=new Date(e),a=t.toLocaleTimeString(void 0,{hour:"numeric",minute:"numeric"}),r=t.toDateString(),i=t.toLocaleDateString(),n=t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}),s=t.toLocaleDateString(void 0,{weekday:"short",month:"long",day:"numeric",year:"numeric"}),l=`${i}   ${a}`,o=new Intl.DateTimeFormat(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(t),c=new Intl.DateTimeFormat(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(t);return{time:a,date:r,simpleDate:new Intl.DateTimeFormat(void 0,{year:"2-digit",month:"short",day:"numeric"}).format(t),localDate:i,lateralDate:s,fullDate:o,fullLocalDate:l,timeZone:t.toLocaleTimeString(void 0,{timeZoneName:"short"}).split(" ").at(-1).slice(0,3),simple:n,complete:c}}function d(e={},t={},a=[]){for(let r in t){if(a.includes(r)){e[r]?e[r]=`${t[r]},${e[r]}`:e[r]=t[r];continue}e[r]=t[r]}return e}a(e.exports,"appError",()=>r),a(e.exports,"parseQuery",()=>i),a(e.exports,"stringifyQuery",()=>n),a(e.exports,"mergeDate",()=>s),a(e.exports,"unmergeDate",()=>l),a(e.exports,"cutString",()=>o),a(e.exports,"getTime",()=>c),a(e.exports,"mergeQueries",()=>d)}),l("0RIFc",function(e,t){a(e.exports,"rotateBtn",()=>o),a(e.exports,"stopRotateBtn",()=>c),a(e.exports,"alertResponse",()=>d),a(e.exports,"displayError",()=>u),a(e.exports,"querMeta",()=>m),a(e.exports,"querMetaMain",()=>p),a(e.exports,"loadingContent",()=>f),a(e.exports,"noSearchContent",()=>g),a(e.exports,"expandSearchBar",()=>y),a(e.exports,"parseQuery",()=>v),a(e.exports,"stringifyQuery",()=>h),a(e.exports,"mergeQueries",()=>$),a(e.exports,"mediaCard",()=>x);var r=s("d2GFg"),i=s("4kZWU"),n=s("gHFA8"),l=s("hXBCr");let o=r.rotateBtn,c=r.stopRotateBtn,d=r.alertResponse,u=r.displayError,m=r.querMeta,p=r.querMetaMain,f=r.loadingContent;r.clickOtherBtn;let g=r.noSearchContent,y=r.expandSearchBar;r.controlSidebar,r.fullOpenPopup,r.openPopup,r.closePopup,i.api_url,i.client_url,n.appError;let v=n.parseQuery,h=n.stringifyQuery;n.mergeDate,n.unmergeDate,n.cutString,n.getTime;let $=n.mergeQueries;l.userCard;let x=l.mediaCard;l.dmediaCard,l.dlinkCard}),l("d2GFg",function(e,t){let r,i,n,s;function l(e){let t=document.getElementById(e);t&&t.insertAdjacentHTML("beforeend",' <i class="fas fa-spinner"></i>')}function o(e){let t=document.getElementById(e);if(!t)return console.log("No button found",e);let a=t.querySelector(".fa-spinner");a&&t.removeChild(a)}function c(e,t="",a=4){let l=document.querySelector("body"),o=document.querySelector(".alert-message"),c=0;o&&(clearTimeout(r),clearTimeout(i),clearTimeout(n),clearTimeout(s),c=1010,o.classList.remove("am-in"),setTimeout(()=>{l.removeChild(o)},c)),a=(a+.2)*1e3+c;let d=`<div class="alert-message alert-message--${t}">${e}<i class="fas fa-times close-alert-message"></i></div>`;r=setTimeout(()=>{l.insertAdjacentHTML("afterbegin",d)},c+10),i=setTimeout(()=>{l.querySelector(".alert-message").classList.add("am-in")},c+200),n=setTimeout(()=>{l.querySelector(".alert-message").classList.remove("am-in")},a+30),s=setTimeout(()=>{let e=l.querySelector(".alert-message");l.removeChild(e)},a+1500)}function d(e,t,a="failed",r=10){e.isOperational?c(e.message||e._message,a,r):(console.error("\uD83C\uDF7Feyeclient: ",e),c("Sorry something went wrong from our side",a,r)),t&&o(t)}function u(e,t="meta"){let a=document.querySelector("body");if(!e)return JSON.parse(a.dataset[t]||JSON.stringify({}));a.dataset[t]=JSON.stringify(e)}function m(e,t="meta"){t+="Main";let a=document.querySelector("body");if(!e)return JSON.parse(a.dataset[t]||JSON.stringify({}));a.dataset[t]=JSON.stringify(e)}function p(e){let t=document.getElementById(e);t.innerHTML="";let a=`
      <div class="center-element">
        <i class='fa-solid fa-spinner'></i>
      </div>
    `;t.insertAdjacentHTML("beforeend",a)}function f(e,t){let a=document.getElementById(e);a.innerHTML="";let r=`
      <div class="center-element" style='font-size: 1.6rem'>
        <h3>${t}</h3>
      </div>
    `;a.insertAdjacentHTML("beforeend",r)}function g(e,t){let a=document.getElementById(e);if(!a)return console.warn("⚠️eyeclient: NO VISIBLE BUTTION FOUND");let r=document.getElementById(t);a.addEventListener("click",()=>r.click())}function y(e){let t=document.getElementById(e),a=t.querySelector("input");a.addEventListener("focus",()=>{!(window.innerWidth>600)&&(t.previousElementSibling&&(t.previousElementSibling.style.display="none"),t.nextElementSibling&&(t.nextElementSibling.style.display="none"))}),a.addEventListener("blur",()=>{!(window.innerWidth>600)&&(t.previousElementSibling&&(t.previousElementSibling.style.display="initial"),t.nextElementSibling&&(t.nextElementSibling.style.display="initial"))})}function v(){let e=document.getElementById("sidebar"),t=document.getElementById("open-sidebar"),a=document.getElementById("close-sidebar");t.addEventListener("click",()=>e.style.left="0"),a.addEventListener("click",()=>e.style.left="-100%")}function h(e,t,a,r,i=[],n=[]){let s=document.getElementById(e);if(!s)return console.warn(`\u{26A0}\u{FE0F}eyeclient: NO ELEMENT FOUND WITH ID -> ${e}`);let l=document.getElementById(t);s.addEventListener("click",e=>{r&&r(...n),l.classList.toggle("display-off")}),l.addEventListener("click",e=>{e.target.classList.contains("close-popup")&&(l.classList.toggle("display-off"),a&&a(...i))})}function $(e,t,a=[]){document.getElementById(e).classList.toggle("display-off"),t&&t(...a)}function x(e,t,a=[]){let r=document.getElementById(e);t&&t(...a),r.classList.toggle("display-off")}a(e.exports,"rotateBtn",()=>l),a(e.exports,"stopRotateBtn",()=>o),a(e.exports,"alertResponse",()=>c),a(e.exports,"displayError",()=>d),a(e.exports,"querMeta",()=>u),a(e.exports,"querMetaMain",()=>m),a(e.exports,"loadingContent",()=>p),a(e.exports,"noSearchContent",()=>f),a(e.exports,"clickOtherBtn",()=>g),a(e.exports,"expandSearchBar",()=>y),a(e.exports,"controlSidebar",()=>v),a(e.exports,"fullOpenPopup",()=>h),a(e.exports,"closePopup",()=>$),a(e.exports,"openPopup",()=>x),function(){let e=document.querySelector("body");e.addEventListener("click",t=>{if(!t.target.classList.contains("close-alert-message"))return;clearTimeout(r),clearTimeout(i),clearTimeout(n),clearTimeout(s);let a=document.querySelector(".alert-message");a.classList.remove("am-in"),setTimeout(()=>{e.removeChild(a)},400)})}()});var o=s("8oD3Q"),c=s("hXBCr");async function d({url:e,containerid:t,card:a,args:r,aftercall:i,toMetaMain:n=!1,scroll:s=!1}){try{let l=document.getElementById(t),{data:d,meta:m}=await (0,o.getFull)(e);if((0,u.querMeta)(m),n&&(0,u.querMetaMain)(m),!m.length)return(0,u.noSearchContent)(t,"No results found"),i&&i({data:d,meta:m,card:a,args:r,containerid:t});l.innerHTML="",d.forEach(e=>l.insertAdjacentHTML("beforeend",c[a](e,...r))),function(e,t="meta"){let{total:a,limit:r,page:i,available:n}=(0,u.querMeta)(void 0,t),s=`
  <div class="center-element-2 form-7 np-buttons" style='margin: 4rem 0;'>
    <span class="tag tag-primary tag-button np-button ${i>1?"":"display-off"}" data-direction="prev"><i class="fas fa-angle-left np-button"></i>prev</span>
    <span class="tag">${i}/${Math.ceil(a/r)}</span>
    <span class="tag tag-primary tag-button np-button ${n?"":"display-off"}" data-direction="next">next <i class="fas fa-angle-right np-button"></i></span>
  </div>`,l=document.getElementById(e).parentElement,o=l.querySelector(".np-buttons");o&&l.removeChild(o),l.insertAdjacentHTML("beforeend",s)}(t),s&&l.parentElement.scrollTo({top:0,behavior:"smooth"}),i&&i({data:d,meta:m,card:a,args:r,containerid:t})}catch(e){(0,u.displayError)(e)}}var u=(s("0RIFc"),s("0RIFc"));function m(){window.scrollTo({top:0,behavior:"smooth"})}!async function(){!function(){(0,u.expandSearchBar)("form-search");let{search:e}=window.location;!function({containerid:e,url:t,card:a,args:r=[]}){(0,u.loadingContent)(e),d({url:t,containerid:e,card:a,args:r,toMetaMain:!0})}({containerid:"cards-container",url:`/media${e||"?order=-released"}`,card:"mediaCard"}),function({containerid:e,url:t,card:a,args:r=[],aftercall:i}){document.querySelector("body").addEventListener("click",n=>{if(!n.target.classList.contains("np-button"))return;let{direction:s}=n.target.closest("span").dataset,l=(0,u.querMeta)();l.page="next"===s?l.page+1:l.page-1,d({url:t+(0,u.stringifyQuery)(l),containerid:e,card:a,args:r,scroll:!0,aftercall:i})})}({containerid:"cards-container",url:"/media",card:"mediaCard",aftercall:m}),function({containerid:e,url:t,card:a,formid:r,args:i=[],tagsid:n,tagclass:s,aftercall:l}){let o=document.getElementById(r),[c,m]=t.split("?"),p=m?(0,u.parseQuery)("?"+m):void 0;o.addEventListener("submit",t=>{t.preventDefault();let{value:r}=o.querySelector("input"),m=(0,u.querMetaMain)(),f=p?(0,u.stringifyQuery)({...p,search:r}):(0,u.stringifyQuery)({search:r});r||(f=p?{...p,...m}:m),r.startsWith("??")&&(f=(0,u.stringifyQuery)((0,u.parseQuery)(r.slice(1)))),m.fields&&(f.fields=m.fields);let g=l;n&&s&&(g=e=>{document.getElementById(n).querySelectorAll(`.${s}`).forEach(e=>e.classList.remove("tag-primary")),l&&l(e)}),d({url:c+f,containerid:e,card:a,args:i,aftercall:g})})}({containerid:"cards-container",url:`/media${e||"?order=-released"}`,card:"mediaCard",formid:"form-search",tagsid:"filter-container",tagclass:"filter-item",aftercall:m}),function({containerid:e,url:t,card:a,selectid:r,tagsid:i,args:n=[],aftercall:s,tagclass:l}){let o=document.getElementById(r),c=document.getElementById(i),[m,p]=t.split("?"),f=p?(0,u.parseQuery)("?"+p):void 0;o&&o.addEventListener("change",()=>{if("reset"===o.value){(0,u.querMetaMain)(),d({url:m+(0,u.stringifyQuery)((0,u.querMetaMain)()),containerid:e,card:a,args:n,aftercall:s});return}let r=(0,u.mergeQueries)((0,u.querMeta)(),(0,u.parseQuery)(o.value),["order"]);r=p?{...f,...r}:r,d({url:t+(r=(0,u.stringifyQuery)(r)),containerid:e,card:a,args:n,aftercall:s})}),c&&l&&c.addEventListener("click",t=>{let r=t.target;if(!r.classList.contains(l))return;let i=(0,u.querMeta)(),o=r.classList.contains("tag-primary");if("reset"===r.dataset.filter){function p(e){c.querySelectorAll(`.${l}`).forEach(e=>e.classList.remove("tag-primary")),s&&s(e)}(0,u.querMetaMain)(),d({url:m+(0,u.stringifyQuery)((0,u.querMetaMain)()),containerid:e,card:a,args:n,aftercall:p});return}let f=(0,u.parseQuery)(r.dataset.filter),g=Object.keys(f)[0],y={};function p(e){r.classList.toggle("tag-primary"),s&&s(e)}o?(i[g]=i[g].split(",").filter(e=>e!==f[g]).join(","),i[g]||delete i[g],y=i):y=(0,u.mergeQueries)(i,f,[g]),d({url:m+(y=(0,u.stringifyQuery)(y)),containerid:e,card:a,args:n,aftercall:p})})}({containerid:"cards-container",url:`/media${e||"?order=-released"}`,card:"mediaCard",tagsid:"filter-container",tagclass:"filter-item",aftercall:m})}()}();