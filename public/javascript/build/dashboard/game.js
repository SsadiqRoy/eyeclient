let e;var t=require("axios");function a(e){return e&&e.__esModule?e.default:e}function n(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}var r=globalThis,i={},o={},l=r.parcelRequiree8ef;null==l&&((l=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return i[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},r.parcelRequiree8ef=l);var s=l.register;s("8oD3Q",function(e,r){n(e.exports,"getFull",()=>o),n(e.exports,"postSimple",()=>s),n(e.exports,"postFull",()=>d),n(e.exports,"patchFull",()=>c),n(e.exports,"deleteRequest",()=>u);var i=l("4kZWU");async function o(e,n="api"){try{return e="api"===n?`${i.api_url}${e}`:n,(await a(t)({method:"GET",withCredentials:!0,url:e})).data}catch(e){throw e.response?e.response.data:e}}async function s(e,n,r="api"){try{return e="api"===r?`${i.api_url}${e}`:r,(await a(t)({method:"POST",url:e,data:n,withCredentials:!0})).data.data}catch(e){throw e.response?e.response.data:e}}async function d(e,n,r="api"){try{return e="api"===r?`${i.api_url}${e}`:r,(await a(t)({method:"POST",url:e,data:n,withCredentials:!0})).data}catch(e){throw e.response?e.response.data:e}}async function c(e,n,r="api"){try{return e="api"===r?`${i.api_url}${e}`:r,(await a(t)({method:"PATCH",url:e,data:n,withCredentials:!0})).data}catch(e){throw e.response?e.response.data:e}}async function u(e,n="api"){try{return e="api"===n?`${i.api_url}${e}`:n,(await a(t)({method:"DELETE",url:e,withCredentials:!0})).data}catch(e){throw e.response?e.response.data:e}}}),s("4kZWU",function(e,t){n(e.exports,"api_url",()=>a),n(e.exports,"client_url",()=>r);let a="https://www.api.eyeclient.com/v1",r="https://www.eyeclient.com"}),s("huFZ7",function(e,t){n(e.exports,"initialLoad",()=>s),n(e.exports,"pageLoad",()=>d),n(e.exports,"search",()=>c),n(e.exports,"filter",()=>u),n(e.exports,"softUpdate",()=>m);var a=l("8oD3Q"),r=l("hXBCr"),i=l("0RIFc");async function o({url:e,containerid:t,card:n,args:o,aftercall:l,toMetaMain:s=!1,scroll:d=!1}){try{let c=document.getElementById(t),{data:u,meta:m}=await (0,a.getFull)(e);if((0,i.querMeta)(m),s&&(0,i.querMetaMain)(m),!m.length)return(0,i.noSearchContent)(t,"No results found"),l&&l({data:u,meta:m,card:n,args:o,containerid:t});c.innerHTML="",u.forEach(e=>c.insertAdjacentHTML("beforeend",r[n](e,...o))),function(e,t="meta"){let{total:a,limit:n,page:r,available:o}=(0,i.querMeta)(void 0,t),l=`
  <div class="center-element-2 form-7 np-buttons" style='margin: 4rem 0;'>
    <span class="tag tag-primary tag-button np-button ${r>1?"":"display-off"}" data-direction="prev"><i class="fas fa-angle-left np-button"></i>prev</span>
    <span class="tag">${r}/${Math.ceil(a/n)}</span>
    <span class="tag tag-primary tag-button np-button ${o?"":"display-off"}" data-direction="next">next <i class="fas fa-angle-right np-button"></i></span>
  </div>`,s=document.getElementById(e).parentElement,d=s.querySelector(".np-buttons");d&&s.removeChild(d),s.insertAdjacentHTML("beforeend",l)}(t),d&&c.parentElement.scrollTo({top:0,behavior:"smooth"}),l&&l({data:u,meta:m,card:n,args:o,containerid:t})}catch(e){(0,i.displayError)(e)}}function s({containerid:e,url:t,card:a,args:n=[]}){(0,i.loadingContent)(e),o({url:t,containerid:e,card:a,args:n,toMetaMain:!0})}function d({containerid:e,url:t,card:a,args:n=[],aftercall:r}){document.querySelector("body").addEventListener("click",l=>{if(!l.target.classList.contains("np-button"))return;let{direction:s}=l.target.closest("span").dataset,d=(0,i.querMeta)();d.page="next"===s?d.page+1:d.page-1,o({url:t+(0,i.stringifyQuery)(d),containerid:e,card:a,args:n,scroll:!0,aftercall:r})})}function c({containerid:e,url:t,card:a,formid:n,args:r=[],tagsid:l,tagclass:s,aftercall:d}){let c=document.getElementById(n),[u,m]=t.split("?"),p=m?(0,i.parseQuery)("?"+m):void 0;c.addEventListener("submit",t=>{t.preventDefault();let{value:n}=c.querySelector("input"),m=(0,i.querMetaMain)(),g=p?(0,i.stringifyQuery)({...p,search:n}):(0,i.stringifyQuery)({search:n});n||(g=p?{...p,...m}:m),n.startsWith("??")&&(g=(0,i.stringifyQuery)((0,i.parseQuery)(n.slice(1)))),m.fields&&(g.fields=m.fields);let y=d;l&&s&&(y=e=>{document.getElementById(l).querySelectorAll(`.${s}`).forEach(e=>e.classList.remove("tag-primary")),d&&d(e)}),o({url:u+g,containerid:e,card:a,args:r,aftercall:y})})}function u({containerid:e,url:t,card:a,selectid:n,tagsid:r,args:l=[],aftercall:s,tagclass:d}){let c=document.getElementById(n),u=document.getElementById(r),[m,p]=t.split("?"),g=p?(0,i.parseQuery)("?"+p):void 0;c&&c.addEventListener("change",()=>{if("reset"===c.value){(0,i.querMetaMain)(),o({url:m+(0,i.stringifyQuery)((0,i.querMetaMain)()),containerid:e,card:a,args:l,aftercall:s});return}let n=(0,i.mergeQueries)((0,i.querMeta)(),(0,i.parseQuery)(c.value),["order"]);n=p?{...g,...n}:n,o({url:t+(n=(0,i.stringifyQuery)(n)),containerid:e,card:a,args:l,aftercall:s})}),u&&d&&u.addEventListener("click",t=>{let n=t.target;if(!n.classList.contains(d))return;let r=(0,i.querMeta)(),c=n.classList.contains("tag-primary");if("reset"===n.dataset.filter){function p(e){u.querySelectorAll(`.${d}`).forEach(e=>e.classList.remove("tag-primary")),s&&s(e)}(0,i.querMetaMain)(),o({url:m+(0,i.stringifyQuery)((0,i.querMetaMain)()),containerid:e,card:a,args:l,aftercall:p});return}let g=(0,i.parseQuery)(n.dataset.filter),y=Object.keys(g)[0],f={};function p(e){n.classList.toggle("tag-primary"),s&&s(e)}c?(r[y]=r[y].split(",").filter(e=>e!==g[y]).join(","),r[y]||delete r[y],f=r):f=(0,i.mergeQueries)(r,g,[y]),o({url:m+(f=(0,i.stringifyQuery)(f)),containerid:e,card:a,args:l,aftercall:p})})}function m(e,t="media"){let n=document.getElementById(e);if(!n)return;let r={media:"/media/soft",episode:"/media/episode/soft"};n.addEventListener("click",async()=>{(0,i.rotateBtn)(e);let{id:n}=(0,i.parseQuery)(window.location.search);try{let o=await (0,a.patchFull)(r[t],{id:n});(0,i.alertResponse)(o.message),(0,i.stopRotateBtn)(e),window.setTimeout(()=>window.location.reload(),3e3)}catch(t){console.log(t),(0,i.displayError)(t,e)}})}}),s("hXBCr",function(e,t){n(e.exports,"userCard",()=>r),n(e.exports,"dmediaCard",()=>i),n(e.exports,"dlinkCard",()=>o),n(e.exports,"mediaCard",()=>s);var a=l("gHFA8");function r(e){let t=e.active?"pause":"play";return`
  <div class="user-card" data-user-id="${e.id}">
    <div class="user-card__details">
      <strong>${e.name} &nbsp; (${e.accessLevel})</strong>
      <span>${e.email}</span>
    </div>
    <div class="user-card__buttons">
      <i class="fas fa-${t} i-secondary change-user-status" data-user-status="${e.active}"></i>
      <i class="fas fa-trash-alt i-primary delete-user"></i>
    </div>
  </div>`}function i(e,t=""){let n=`
    <a href="/executive/${e.type}?id=${e.id}"><i class="fas fa-edit i-secondary"></i></a>
    <i class="fas fa-trash-alt i-primary delete-media"></i>
  `;return"positive"===t&&(n='<button class="btn btn-secondary-dark add-to-collection">add to collection</button>'),"negative"===t&&(n='<button class="btn btn-primary remove-from-collection">remove</button>'),`
    <div class="dmedia-card" data-media-id="${e.id}" data-action='${"positive"===t?"add":"negative"===t?"remove":""}'>
      <div class="dmedia-card__image"><img src="${e.poster}" alt="${e.title}" /></div>
      <div class="dmedia-card__details">
        <h4 class="dmedia-card__details-title">${e.title}</h4>
        <ul>
          <li>${e.type}</li>
          <li>${e.imdbRating} <i class="fas fa-star i-primary"></i></li>
          <li>${(0,a.getTime)(e.released).date}</li>
        </ul>

        <div class="dmedia-card__details-button">
          <span>${n}</span>
        </div>
      </div>
    </div>
  `}function o(e,t="",a="",n=!1){let r='<i class="fas fa-edit i-secondary edit-link"></i>';return n&&(r=`<a href='${n}'><i class="fas fa-edit i-secondary"></i></a>`),`
  <div class="link-item" data-link-id='${e.id}' data-link='${JSON.stringify(e)}'>
    <span>${t}${e.name||e.episode||e.season}${a}</span>
    <span>${r}<i class="fas fa-trash-alt i-primary delete-link"></i></span>
  </div>
  `}function s(e){let t="collection"===e.type?`/media?collection=${e.id}`:`/detail/${e.id}`;return`
  <div class="media-card" data-media-id='${e.id}'>
    <div class="media-card__image">
      <img src="${e.poster}" />
    </div>
    <div class="media-card__details">
      <a href="${t}" class="media-card__details__title" title='${e.year}'>${e.title}</a>
      <span class="media-card__details__rate-type">${e.imdbRating||"N/A"} <i class="fas fa-star"></i> &nbsp; <span>${e.type}</span></span>
    </div>
  </div>
  `}}),s("gHFA8",function(e,t){function a(e){let t=Error(e);return t.isOperational=!0,t}function r(e){let t={};return e.slice(1).split("&").forEach(e=>{let[a,n]=e.split("=");if(a.includes("[")){let[e,r]=a.split("["),i=r.slice(0,r.length-1),o={};o[i]=n,t[e]?t[e][i]=n:t[e]=o}else t[a]=n}),t}function i(e){let t=Object.entries(e);return t=(t=t.map(([e,t])=>(function(e,t){if("object"!=typeof t)return`${e}=${t}`;let a=Object.entries(t);return(a=a.map(([t,a])=>`${e}[${t}]=${a}`)).join("&")})(e,t))).join("&"),t=`?${t}`}function o(e,t){if(e&&t)return new Date(`${e} ${t}`).toISOString()}function l(e){let t=new Date(e),a=`${t.getFullYear()}`.padStart(2,"0"),n=`${t.getMonth()+1}`.padStart(2,"0"),r=`${t.getDate()}`.padStart(2,"0"),i=`${t.getHours()}`.padStart(2,"0"),o=`${t.getMinutes()}`.padStart(2,"0");return{date:`${a}-${n}-${r}`,time:`${i}:${o}`}}function s(e,t=60){if(e.length>t){let a=e.slice(0,t-3);return" "===a.charAt(a.length-1)?`${a.slice(0,a.length-1)}...`:`${a}...`}return e}function d(e){let t=new Date(e),a=t.toLocaleTimeString(void 0,{hour:"numeric",minute:"numeric"}),n=t.toDateString(),r=t.toLocaleDateString(),i=t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}),o=t.toLocaleDateString(void 0,{weekday:"short",month:"long",day:"numeric",year:"numeric"}),l=`${r}   ${a}`,s=new Intl.DateTimeFormat(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(t),d=new Intl.DateTimeFormat(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(t);return{time:a,date:n,simpleDate:new Intl.DateTimeFormat(void 0,{year:"2-digit",month:"short",day:"numeric"}).format(t),localDate:r,lateralDate:o,fullDate:s,fullLocalDate:l,timeZone:t.toLocaleTimeString(void 0,{timeZoneName:"short"}).split(" ").at(-1).slice(0,3),simple:i,complete:d}}function c(e={},t={},a=[]){for(let n in t){if(a.includes(n)){e[n]?e[n]=`${t[n]},${e[n]}`:e[n]=t[n];continue}e[n]=t[n]}return e}n(e.exports,"appError",()=>a),n(e.exports,"parseQuery",()=>r),n(e.exports,"stringifyQuery",()=>i),n(e.exports,"mergeDate",()=>o),n(e.exports,"unmergeDate",()=>l),n(e.exports,"cutString",()=>s),n(e.exports,"getTime",()=>d),n(e.exports,"mergeQueries",()=>c)}),s("0RIFc",function(e,t){n(e.exports,"rotateBtn",()=>s),n(e.exports,"stopRotateBtn",()=>d),n(e.exports,"alertResponse",()=>c),n(e.exports,"displayError",()=>u),n(e.exports,"querMeta",()=>m),n(e.exports,"querMetaMain",()=>p),n(e.exports,"loadingContent",()=>g),n(e.exports,"clickOtherBtn",()=>y),n(e.exports,"noSearchContent",()=>f),n(e.exports,"expandSearchBar",()=>v),n(e.exports,"controlSidebar",()=>h),n(e.exports,"fullOpenPopup",()=>E),n(e.exports,"openPopup",()=>$),n(e.exports,"closePopup",()=>x),n(e.exports,"parseQuery",()=>b),n(e.exports,"stringifyQuery",()=>w),n(e.exports,"unmergeDate",()=>B),n(e.exports,"mergeQueries",()=>S),n(e.exports,"userCard",()=>I),n(e.exports,"dmediaCard",()=>k),n(e.exports,"dlinkCard",()=>L);var a=l("d2GFg"),r=l("4kZWU"),i=l("gHFA8"),o=l("hXBCr");let s=a.rotateBtn,d=a.stopRotateBtn,c=a.alertResponse,u=a.displayError,m=a.querMeta,p=a.querMetaMain,g=a.loadingContent,y=a.clickOtherBtn,f=a.noSearchContent,v=a.expandSearchBar,h=a.controlSidebar,E=a.fullOpenPopup,$=a.openPopup,x=a.closePopup;r.api_url,r.client_url,i.appError;let b=i.parseQuery,w=i.stringifyQuery;i.mergeDate;let B=i.unmergeDate;i.cutString,i.getTime;let S=i.mergeQueries,I=o.userCard;o.mediaCard;let k=o.dmediaCard,L=o.dlinkCard}),s("d2GFg",function(e,t){let a,r,i,o;function l(e){let t=document.getElementById(e);t&&t.insertAdjacentHTML("beforeend",' <i class="fas fa-spinner"></i>')}function s(e){let t=document.getElementById(e);if(!t)return console.log("No button found",e);let a=t.querySelector(".fa-spinner");a&&t.removeChild(a)}function d(e,t="",n=4){let l=document.querySelector("body"),s=document.querySelector(".alert-message"),d=0;s&&(clearTimeout(a),clearTimeout(r),clearTimeout(i),clearTimeout(o),d=1010,s.classList.remove("am-in"),setTimeout(()=>{l.removeChild(s)},d)),n=(n+.2)*1e3+d;let c=`<div class="alert-message alert-message--${t}">${e}<i class="fas fa-times close-alert-message"></i></div>`;a=setTimeout(()=>{l.insertAdjacentHTML("afterbegin",c)},d+10),r=setTimeout(()=>{l.querySelector(".alert-message").classList.add("am-in")},d+200),i=setTimeout(()=>{l.querySelector(".alert-message").classList.remove("am-in")},n+30),o=setTimeout(()=>{let e=l.querySelector(".alert-message");l.removeChild(e)},n+1500)}function c(e,t,a="failed",n=10){e.isOperational?d(e.message||e._message,a,n):(console.error("\uD83C\uDF7Feyeclient: ",e),d("Sorry something went wrong from our side",a,n)),t&&s(t)}function u(e,t="meta"){let a=document.querySelector("body");if(!e)return JSON.parse(a.dataset[t]||JSON.stringify({}));a.dataset[t]=JSON.stringify(e)}function m(e,t="meta"){t+="Main";let a=document.querySelector("body");if(!e)return JSON.parse(a.dataset[t]||JSON.stringify({}));a.dataset[t]=JSON.stringify(e)}function p(e){let t=document.getElementById(e);t.innerHTML="";let a=`
      <div class="center-element">
        <i class='fa-solid fa-spinner'></i>
      </div>
    `;t.insertAdjacentHTML("beforeend",a)}function g(e,t){let a=document.getElementById(e);a.innerHTML="";let n=`
      <div class="center-element" style='font-size: 1.6rem'>
        <h3>${t}</h3>
      </div>
    `;a.insertAdjacentHTML("beforeend",n)}function y(e,t){let a=document.getElementById(e);if(!a)return console.warn("⚠️eyeclient: NO VISIBLE BUTTION FOUND");let n=document.getElementById(t);a.addEventListener("click",()=>n.click())}function f(e){let t=document.getElementById(e),a=t.querySelector("input");a.addEventListener("focus",()=>{!(window.innerWidth>600)&&(t.previousElementSibling&&(t.previousElementSibling.style.display="none"),t.nextElementSibling&&(t.nextElementSibling.style.display="none"))}),a.addEventListener("blur",()=>{!(window.innerWidth>600)&&(t.previousElementSibling&&(t.previousElementSibling.style.display="initial"),t.nextElementSibling&&(t.nextElementSibling.style.display="initial"))})}function v(){let e=document.getElementById("sidebar"),t=document.getElementById("open-sidebar"),a=document.getElementById("close-sidebar");t.addEventListener("click",()=>e.style.left="0"),a.addEventListener("click",()=>e.style.left="-100%")}function h(e,t,a,n,r=[],i=[]){let o=document.getElementById(e);if(!o)return console.warn(`\u{26A0}\u{FE0F}eyeclient: NO ELEMENT FOUND WITH ID -> ${e}`);let l=document.getElementById(t);o.addEventListener("click",e=>{n&&n(...i),l.classList.toggle("display-off")}),l.addEventListener("click",e=>{e.target.classList.contains("close-popup")&&(l.classList.toggle("display-off"),a&&a(...r))})}function E(e,t,a=[]){document.getElementById(e).classList.toggle("display-off"),t&&t(...a)}function $(e,t,a=[]){let n=document.getElementById(e);t&&t(...a),n.classList.toggle("display-off")}n(e.exports,"rotateBtn",()=>l),n(e.exports,"stopRotateBtn",()=>s),n(e.exports,"alertResponse",()=>d),n(e.exports,"displayError",()=>c),n(e.exports,"querMeta",()=>u),n(e.exports,"querMetaMain",()=>m),n(e.exports,"loadingContent",()=>p),n(e.exports,"noSearchContent",()=>g),n(e.exports,"clickOtherBtn",()=>y),n(e.exports,"expandSearchBar",()=>f),n(e.exports,"controlSidebar",()=>v),n(e.exports,"fullOpenPopup",()=>h),n(e.exports,"closePopup",()=>E),n(e.exports,"openPopup",()=>$),function(){let e=document.querySelector("body");e.addEventListener("click",t=>{if(!t.target.classList.contains("close-alert-message"))return;clearTimeout(a),clearTimeout(r),clearTimeout(i),clearTimeout(o);let n=document.querySelector(".alert-message");n.classList.remove("am-in"),setTimeout(()=>{e.removeChild(n)},400)})}()});var d=l("8oD3Q"),c=l("huFZ7"),u=l("0RIFc");const m=document.getElementById("cards-container");function p(){document.getElementById("name").value="Part ",document.getElementById("position").value=document.querySelector("body").dataset.next,document.getElementById("link").value="",e=void 0}async function g(e){let t=e?`/media/hard/${e}`:"/media/hard",a=function(){let e=document.getElementById("imdb-id").value,t=document.getElementById("type").value,a=document.getElementById("title").value,n=document.getElementById("year").value,r=document.getElementById("rated").value,i=document.getElementById("released").value,o=document.getElementById("genre").value,l=document.getElementById("directors").value,s=document.getElementById("writers").value,d=document.getElementById("actors").value,c=document.getElementById("plot").value,u=document.getElementById("poster").value,m=document.getElementById("language").value,p=document.getElementById("country").value;return{imdbId:e,type:t,title:a,year:n,rated:r,released:i,genre:o,directors:l,writers:s,actors:d,plot:c,poster:u,language:m,country:p,runtime:document.getElementById("runtime").value,imdbRating:document.getElementById("imdb-rating").value,keywords:document.getElementById("keywords").value}}();!function(e,t){if((0,u.alertResponse)(e.message),t)return window.setTimeout(()=>window.location.reload(),3e3);window.setTimeout(()=>window.location.assign("/executive"),3e3)}(e?await (0,d.patchFull)(t,a):await (0,d.postFull)(t,a),e)}async function y(e){let t=function(){let{id:e}=(0,u.parseQuery)(window.location.search),t=document.getElementById("name").value,a=document.getElementById("position").value,n=document.getElementById("link").value;return{media:e,name:t,position:a,link:n,filled:!!n.length}}();!function(e){let{message:t,data:a}=e;(0,u.alertResponse)(t);let n=document.querySelector(`[data-link-id='${a.id}']`),r=n?.nextElementSibling,i=n?.previousElementSibling;n&&m.removeChild(n),r?r.insertAdjacentHTML("beforebegin",(0,u.dlinkCard)(e.data)):i?i.insertAdjacentHTML("afterend",(0,u.dlinkCard)(e.data)):m.insertAdjacentHTML("afterbegin",(0,u.dlinkCard)(e.data)),n||(document.querySelector("body").dataset.next=+a.position+1,document.getElementById("position").value=+a.position+1)}(e?await (0,d.patchFull)(`/media/link/${e}`,t):await (0,d.postFull)("/media/link",t))}async function f(e){await (0,d.deleteRequest)(`/media/link/${e}`),function(e){let t=document.querySelector(`[data-link-id='${e}']`);m.removeChild(t)}(e)}!async function(){(0,c.softUpdate)("soft-update"),(0,u.fullOpenPopup)("new-link","link-popup",p),(0,u.clickOtherBtn)("btn-link-alt","btn-link"),m&&m.addEventListener("click",t=>{var a;t.target.classList.contains("edit-link")&&(a=e=JSON.parse(t.target.closest(".link-item").dataset.link),document.getElementById("name").value=a.name,document.getElementById("position").value=a.position,document.getElementById("link").value=a.link,(0,u.openPopup)("link-popup"))}),function(e){let t=document.getElementById("form-game"),{id:a}=(0,u.parseQuery)(window.location.search),n=a?"update-game":"add-game";t.addEventListener("submit",async t=>{t.preventDefault(),(0,u.rotateBtn)(n);try{await e(a),(0,u.stopRotateBtn)(n)}catch(e){(0,u.displayError)(e,n)}})}(g),function(t){let a=document.getElementById("form-link");a&&a.addEventListener("submit",async a=>{a.preventDefault();let n="btn-link-alt";(0,u.rotateBtn)(n);try{let a=e?.id;await t(a),(0,u.stopRotateBtn)(n),(0,u.closePopup)("link-popup",p)}catch(e){(0,u.displayError)(e,n)}})}(y),m&&m.addEventListener("click",async e=>{if(!e.target.classList.contains("delete-link"))return;let t=JSON.parse(e.target.closest(".link-item").dataset.link);if(window.confirm(`Are you sure you want to delete 
${t.name}`))try{await f(t.id)}catch(e){(0,u.displayError)(e)}})}();